<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>非递减数列</title>
</head>
<body>
    <script>
        /**
        * @param {number[]} nums
        * @return {boolean}
        */
        var checkPossibility = function(nums) {
            let count = 0;
            let length = nums.length;
            for(let i = 0; i <= length-2; i++) {
                if(nums[i] > nums[i + 1]) {
                    if(nums[i-1] > nums[i+1]){
                        nums[i+1] = nums[i] 
                    }else {
                        nums[i] = nums[i-1] 
                    }
                    count++
                }
                if(count > 1) return false
            }
            return true
        };

        console.log(checkPossibility([4,2,1]));
    </script>
</body>
</html>